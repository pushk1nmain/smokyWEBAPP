üîó API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã (API v1)
–í—Å–µ endpoints —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–µ—Ñ–∏–∫—Å /api/v1/

üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
POST /api/v1/name
–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ó–∞–≥–æ–ª–æ–≤–∫–∏:

X-API-Key: your-api-key
Content-Type: application/json
–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:

{
  "telegram_id": 123456789,
  "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤"
}
POST /api/v1/town
–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ –∏ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞

–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:

{
  "telegram_id": 123456789,
  "town": "–ú–æ—Å–∫–≤–∞",
  "tz_offset": 10800
}
POST /api/v1/timezone
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞

–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:

{
  "telegram_id": 123456789,
  "tz_offset": 10800
}
POST /api/v1/progress_step
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —à–∞–≥–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:

{
  "telegram_id": 123456789,
  "progress_step": 2
}
GET /api/v1/user/{telegram_id}
–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–û—Ç–≤–µ—Ç:

{
  "success": true,
  "data": {
    "telegram_id": 123456789,
    "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "town": "–ú–æ—Å–∫–≤–∞",
    "tz_offset": 10800,
    "progress_step": 2
  }
}
üåç –ì–æ—Ä–æ–¥–∞
POST /api/v1/check_town
–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ä–æ–¥–∞ —á–µ—Ä–µ–∑ OpenWeather API

–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:

{
  "town": "–ú–æ—Å–∫–≤–∞"
}
–û—Ç–≤–µ—Ç:

{
  "success": true,
  "town": "–ú–æ—Å–∫–≤–∞",
  "utc_offset": 10800,
  "cached": true
}
üîß –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
GET /api/v1/admin/environment
–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–∂–∏–º–µ —Ä–∞–±–æ—Ç—ã

GET /api/v1/admin/cache-stats
–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫—ç—à–∞ –≥–æ—Ä–æ–¥–æ–≤

GET /api/v1/admin/cached-cities
–°–ø–∏—Å–æ–∫ –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤

DELETE /api/v1/admin/cache/{city_name}
–£–¥–∞–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ –∏–∑ –∫—ç—à–∞

DELETE /api/v1/admin/cache
–û—á–∏—Å—Ç–∫–∞ –≤—Å–µ–≥–æ –∫—ç—à–∞ –≥–æ—Ä–æ–¥–æ–≤

