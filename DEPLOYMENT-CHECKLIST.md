# ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –¥–µ–ø–ª–æ—è SmokyApp

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

- [ ] **Docker —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω**
  ```bash
  docker --version && docker-compose --version
  ```

- [ ] **Git –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω**
  ```bash
  git --version && git config --list
  ```

- [ ] **–ü–æ—Ä—Ç—ã 80/443 —Å–≤–æ–±–æ–¥–Ω—ã**
  ```bash
  netstat -tulpn | grep :80
  ```

- [ ] **–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ (–º–∏–Ω–∏–º—É–º 2GB)**
  ```bash
  df -h
  ```

## –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

- [ ] **–°–∫–∞—á–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏**
  ```bash
  curl -sSL https://raw.githubusercontent.com/smokyapp/webapp/main/scripts/quick-start.sh | bash
  ```

**–ò–õ–ò**

## –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- [ ] **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
  ```bash
  git clone https://github.com/smokyapp/webapp.git
  cd webapp
  ```

- [ ] **–°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª**
  ```bash
  cp .env.example .env
  nano .env  # –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  ```

- [ ] **–°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏**
  ```bash
  chmod +x scripts/*.sh
  ```

### –®–∞–≥ 2: –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
- [ ] **–°–æ–±—Ä–∞—Ç—å Docker –æ–±—Ä–∞–∑—ã**
  ```bash
  make build
  # –∏–ª–∏
  docker-compose build --no-cache
  ```

- [ ] **–ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã**
  ```bash
  make start
  # –∏–ª–∏
  docker-compose up -d
  ```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- [ ] **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã**
  ```bash
  docker-compose ps
  # –î–æ–ª–∂–Ω—ã –±—ã—Ç—å: smokyapp-web (Up), smokyapp-updater (Up)
  ```

- [ ] **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–≤–µ—á–∞–µ—Ç**
  ```bash
  curl -f http://localhost/
  curl -f http://localhost/health
  ```

- [ ] **Health check –ø—Ä–æ—Ö–æ–¥–∏—Ç**
  ```bash
  make health
  ```

### –õ–æ–≥–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
  ```bash
  make logs
  # –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
  ```

- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ nginx**
  ```bash
  docker exec smokyapp-web tail -f /var/log/nginx/error.log
  ```

- [ ] **–ó–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π**
  ```bash
  ./scripts/watch.sh start
  ./scripts/watch.sh status
  ```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ GitHub –≤ .env**
  ```env
  REPO_URL=https://github.com/smokyapp/webapp.git
  BRANCH=main
  UPDATE_INTERVAL=300
  ```

- [ ] **–¢–µ—Å—Ç–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**
  ```bash
  ./scripts/update.sh --dry-run
  ```

- [ ] **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**
  ```env
  TELEGRAM_BOT_TOKEN=your-bot-token
  TELEGRAM_CHAT_ID=your-chat-id
  ```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

- [ ] **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å firewall**
  ```bash
  # Ubuntu/Debian
  ufw allow 80/tcp
  ufw allow 443/tcp
  ufw enable
  
  # CentOS/RHEL
  firewall-cmd --permanent --add-service=http
  firewall-cmd --permanent --add-service=https
  firewall-cmd --reload
  ```

- [ ] **–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ .env**
  ```env
  WEBHOOK_SECRET=your-unique-secret-key
  ```

- [ ] **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å HTTPS (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)**
  - –ü–æ–ª—É—á–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
  - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å nginx –¥–ª—è HTTPS
  - –û–±–Ω–æ–≤–∏—Ç—å docker-compose.yml

## –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

- [ ] **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ**
  ```bash
  # Systemd service
  sudo ./scripts/deploy.sh  # –°–æ–∑–¥–∞—Å—Ç systemd —Å–µ—Ä–≤–∏—Å
  
  # –ò–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ crontab
  @reboot cd /path/to/webapp && make start
  ```

- [ ] **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–æ—Ç–∞—Ü–∏—é –ª–æ–≥–æ–≤**
  ```bash
  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º deploy.sh
  # –ò–ª–∏ –≤—Ä—É—á–Ω—É—é –¥–æ–±–∞–≤–∏—Ç—å –≤ logrotate
  ```

- [ ] **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**
  ```bash
  # –î–æ–±–∞–≤–∏—Ç—å –≤ crontab –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±—ç–∫–∞–ø
  0 2 * * * cd /path/to/webapp && make backup
  ```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### Telegram Web App —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ Telegram Web App**
  ```bash
  curl -I http://localhost/
  # –î–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å X-Frame-Options: ALLOWALL
  ```

- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å CSP –∑–∞–≥–æ–ª–æ–≤–∫–∏**
  ```bash
  curl -I http://localhost/ | grep Content-Security-Policy
  ```

- [ ] **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Telegram**
  - –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞
  - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Web App URL
  - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Ä–µ–∞–ª—å–Ω–æ–º Telegram

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- [ ] **–°–¥–µ–ª–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–º–º–∏—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**
  ```bash
  # –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
  tail -f logs/update.log
  ```

- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–∫–∞—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ**
  - –°–¥–µ–ª–∞—Ç—å –∫–æ–º–º–∏—Ç —Å –æ—à–∏–±–∫–æ–π
  - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–µ–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–∫–∞—Ç

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

- [ ] **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤**
  ```bash
  make status  # –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å
  ```

- [ ] **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è**
  - –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  - –û—à–∏–±–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
  - –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∏—Å–∫–∞

- [ ] **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è**
  ```bash
  # –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞
  make restore BACKUP=backup_name.tar.gz
  
  # –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞
  make clean-all && make install
  ```

## –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

- [ ] **–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ URL –¥–æ—Å—Ç—É–ø–Ω—ã**
  - http://localhost/ ‚úÖ
  - http://localhost/health ‚úÖ

- [ ] **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç**
  ```bash
  ./scripts/watch.sh status
  # –°—Ç–∞—Ç—É—Å: –ó–ê–ü–£–©–ï–ù–ê
  ```

- [ ] **–õ–æ–≥–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –æ—à–∏–±–æ–∫**
  ```bash
  make logs | grep -i error
  # –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
  ```

- [ ] **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ**
  ```bash
  make backup
  ls -la backups/
  ```

- [ ] **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞**
  - [ ] README.md —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–∫—Ç—É–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
  - [ ] .env —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø–æ–¥ —Å—Ä–µ–¥—É
  - [ ] –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —É–∫–∞–∑–∞–Ω—ã

## üéâ –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω!

–ü–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤—Å–µ—Ö –ø—É–Ω–∫—Ç–æ–≤ —á–µ–∫–ª–∏—Å—Ç–∞:

1. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ** üöÄ
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã** üîÑ  
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç** üìä
4. **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ** üíæ

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```bash
make status     # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
make logs       # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
make update     # –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
make backup     # –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
make help       # –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥
```

---

**–ö–æ–º–∞–Ω–¥–∞ SmokyApp –∂–µ–ª–∞–µ—Ç —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è! üéØ**
