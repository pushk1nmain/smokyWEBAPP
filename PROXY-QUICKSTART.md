# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å –≤–Ω–µ—à–Ω–∏–º nginx

## –î–ª—è —Ç–µ—Ö, —É –∫–æ–≥–æ —É–∂–µ –µ—Å—Ç—å nginx

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –∏ SSL –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
make setup-proxy

# –°–∫—Ä–∏–ø—Ç —Å–ø—Ä–æ—Å–∏—Ç:
# - –í–∞—à –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä: smokyapp.com)
# - –î–æ–±–∞–≤–∏—Ç—å www –ø–æ–¥–¥–æ–º–µ–Ω? (Y/n)
# - –î–æ–±–∞–≤–∏—Ç—å API –ø–æ–¥–¥–æ–º–µ–Ω? (Y/n)  
# - Email –¥–ª—è Let's Encrypt

# 2. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSL:
make start-proxy

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞
curl -f https://–≤–∞—à-–¥–æ–º–µ–Ω.com/health
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# 1. –°–æ–∑–¥–∞—Ç—å Docker —Å–µ—Ç—å
docker network create nginx-proxy

# 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSL
sudo ./scripts/setup-ssl.sh

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
make start-proxy

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
make proxy-status
```

## üìã –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

1. ‚úÖ **Docker —Å–µ—Ç—å** - —Å–æ–∑–¥–∞–µ—Ç—Å—è nginx-proxy –¥–ª—è —Å–≤—è–∑–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
2. ‚úÖ **SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã** - –ø–æ–ª—É—á–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ Let's Encrypt  
3. ‚úÖ **nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ
4. ‚úÖ **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤** - –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ crontab
5. ‚úÖ **Telegram Web App –∑–∞–≥–æ–ª–æ–≤–∫–∏** - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ CORS –∏ CSP

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
make start-proxy     # –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ–∫—Å–∏
make proxy-status    # –°—Ç–∞—Ç—É—Å –ø—Ä–æ–∫—Å–∏ —Ä–µ–∂–∏–º–∞  
make proxy-logs      # –õ–æ–≥–∏ –ø—Ä–æ–∫—Å–∏ —Ä–µ–∂–∏–º–∞
make setup-ssl       # –¢–æ–ª—å–∫–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ SSL
make setup-proxy     # –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∫—Å–∏
```

## üåê –†–µ–∑—É–ª—å—Ç–∞—Ç:

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É –≤–∞—Å –±—É–¥–µ—Ç:

- üîí **https://–≤–∞—à-–¥–æ–º–µ–Ω.com** - –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- üîí **https://www.–≤–∞—à-–¥–æ–º–µ–Ω.com** - —Å www (–µ—Å–ª–∏ –≤—ã–±—Ä–∞–ª–∏)
- üîí **https://api.–≤–∞—à-–¥–æ–º–µ–Ω.com** - –≥–æ—Ç–æ–≤–æ –¥–ª—è API (–µ—Å–ª–∏ –≤—ã–±—Ä–∞–ª–∏)

## ‚ö° –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:

- ‚ùå –£–±—Ä–∞–Ω—ã –ø–æ—Ä—Ç—ã 80/443 –∏–∑ docker-compose  
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω expose: ["80"] –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ç–∏ nginx-proxy
- ‚úÖ –í—Å–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ

---

**–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –≤–∞—à SmokyApp —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞ –≤–Ω–µ—à–Ω–∏–º nginx —Å SSL! üéâ**
