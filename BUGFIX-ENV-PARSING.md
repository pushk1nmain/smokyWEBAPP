# üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ .env —Ñ–∞–π–ª–∞

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ `./docker-start.sh` –≤–æ–∑–Ω–∏–∫–∞–ª–∏ –æ—à–∏–±–∫–∏:
```
./docker-start.sh: line 100: export: `#': not a valid identifier
./docker-start.sh: line 100: export: `–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π': not a valid identifier
./docker-start.sh: line 100: export: `–ø–æ—Ä—Ç': not a valid identifier
./docker-start.sh: line 100: export: `–¥–ª—è': not a valid identifier
```

## –ü—Ä–∏—á–∏–Ω–∞
–ö–æ–º–∞–Ω–¥–∞ `export $(grep -v '^#' .env | xargs)` –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ .env —Ñ–∞–π–ª–µ, –æ—Å–æ–±–µ–Ω–Ω–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ —Å—Ç—Ä–æ–∫.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã
- `docker-start.sh` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `load_env_safely()`
- `scripts/deploy.sh` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è

### 2. –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è `load_env_safely()`:
```bash
load_env_safely() {
    if [[ -f ".env" ]]; then
        # –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª —Ç–æ–ª—å–∫–æ —Å –≤–∞–ª–∏–¥–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
        local temp_env=$(mktemp)
        
        # –§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∏ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏, –∏—Å–∫–ª—é—á–∞–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
        grep -E '^[A-Za-z_][A-Za-z0-9_]*=' .env | grep -v '^[[:space:]]*#' > "$temp_env"
        
        # –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        set -a
        source "$temp_env"
        set +a
        
        # –£–¥–∞–ª—è–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª
        rm "$temp_env"
        
        info "–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ .env"
    fi
}
```

### 3. –û—á–∏—Å—Ç–∫–∞ .env —Ñ–∞–π–ª–∞
–£–¥–∞–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏–∑ .env —Ñ–∞–π–ª–∞.

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```bash
# –¢–µ—Å—Ç–∏—Ä—É–µ–º —Å–∫—Ä–∏–ø—Ç
./docker-start.sh --help

# –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
./docker-start.sh start
```

## üìã –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

1. **–ü–∞—Ä—Å–∏–Ω–≥ .env —Ñ–∞–π–ª–∞**: –¢–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
2. **–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è**: –¢–æ–ª—å–∫–æ –≤–∞–ª–∏–¥–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
3. **–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**: –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª
4. **–û—á–∏—Å—Ç–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤**: –£–±—Ä–∞–Ω—ã –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ inline –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

## üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –∑–∞–≥—Ä—É–∑–∫–∏ .env

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ docker-compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
# Docker Compose –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç .env
docker-compose up -d
```

### –°–ø–æ—Å–æ–± 2: –†—É—á–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
```bash
# –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–ª—å–∫–æ –≤–∞–ª–∏–¥–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
export $(grep -E '^[A-Za-z_][A-Za-z0-9_]*=' .env | grep -v '^#' | xargs)
```

### –°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ source —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
grep -E '^[A-Za-z_][A-Za-z0-9_]*=' .env > /tmp/filtered.env
source /tmp/filtered.env
rm /tmp/filtered.env
```

## üõ°Ô∏è –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –≤ –±—É–¥—É—â–µ–º

### –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è .env —Ñ–∞–π–ª–æ–≤:
1. **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Ç–æ–ª—å–∫–æ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å—Ç—Ä–æ–∫–∞—Ö**: `# –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π`
2. **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ inline –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏**: `VAR=value # –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π` ‚ùå
3. **–í–∞–ª–∏–¥–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö**: –¢–æ–ª—å–∫–æ `A-Za-z0-9_`
4. **–ù–µ—Ç –ø—Ä–æ–±–µ–ª–æ–≤ –≤–æ–∫—Ä—É–≥ `=`**: `VAR=value` ‚úÖ, `VAR = value` ‚ùå

### –ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ .env:
```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
NODE_ENV=production
CONTAINER_NAME=smokyapp-web

# –ü–æ—Ä—Ç—ã
HOST_PORT=80
APP_PORT=3000

# –î–æ–º–µ–Ω—ã
DOMAIN=webapp.smokybot.com
```

## ‚úÖ –°—Ç–∞—Ç—É—Å
**–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!** –í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç .env —Ñ–∞–π–ª—ã.
